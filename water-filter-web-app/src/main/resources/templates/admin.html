
<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="">
<meta name="author" content="">
<link rel="icon" href="../static/img/favicon.ico" th:href="@{/img/favicon.ico}">

<title>PureSoft</title>

<link rel="stylesheet" type="text/css"
	href="../static/css/bootstrap.min.css"
	th:href="@{/css/bootstrap.min.css}" />
<link rel="stylesheet" type="text/css" href="../static/css/admin.css"
	th:href="@{/css/admin.css}" />
<script src="../static/js/bootstrap.min.js"
	th:src="@{/js/bootstrap.min.js}"></script>
<script src="../static/js/jquery.min.js" th:src="@{/js/jquery.min.js}"></script>
<script src="../static/js/main.js" th:src="@{/js/main.js}"></script>
</head>

<body>
	<header>
		<nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
			<img
				src="https://getbootstrap.com/docs/4.0/assets/brand/bootstrap-solid.svg"
				alt="" width="40" height="40">
			<button class="navbar-toggler" type="button" data-toggle="collapse"
				data-target="#navbarCollapse" aria-controls="navbarCollapse"
				aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarCollapse">
				<ul class="navbar-nav mr-auto">
					<li class="nav-item active"><a class="nav-link" href="#">Home
							<span class="sr-only">(current)</span>
					</a></li>
					<li class="nav-item"><a class="nav-link" href="/admin/add">Add Ticket</a></li>
					<!--  <li class="nav-item"><a class="nav-link disabled" href="#">Disabled</a>
					</li> -->
				</ul>
				<ul class="navbar-nav">
					<li class="nav-item"><span class="nav-link" th:text="${userName}"> &nbsp; </span></li>
					<li class="nav-item"><a class="nav-link" href="/logout">Sign Out</a></li>
				</ul>
			</div>
		</nav>
	</header>

	<!-- Begin page content -->
    <main role="main" class="container">
      <h1 class="my-5">Ticket Details</h1>
      
      <div id="successAlert" class="alert alert-success mb-5 d-none" role="alert">
		  Ticket delete successfully.
		</div>
      <div id="failureAlert" class="alert alert-danger mb-5 d-none" role="alert">
		  Failed to delete Ticket!
		</div>
      
     	<div class="table-responsive">
			<table class="table table-striped table-sm">
				<thead>
					<tr>
						<th>#</th>
						<th>Details</th>
						<th>Agent</th>
						<th>Customer</th>
						<th>Created On</th>
						<th>Ticket Status</th>
						<th>&nbsp;</th>
					</tr>
				</thead>
				<tbody>
					<tr th:if="${tickets.empty}">
						<td colspan="2">No Tickets Available</td>
					</tr>
					<tr th:each="ticket : ${tickets}">
						<td><span th:text="${ticket.ticketId}"> Ticket ID </span></td>
						<td><span th:text="${ticket.ticketDescription}">
								Ticket Details </span></td>
						<td><span th:text="${ticket.agentName}"> Agent </span></td>
						<td><span th:text="${ticket.customer.name}"> Customer
						</span></td>
						<td><span th:text="${ticket.createdDate}"> Created On
						</span></td>
						<td><span th:text="${ticket.ticketStatus}"> Ticket
								Status </span></td>
						<td><a href="#" onclick="deleteTicket(this)"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16">
						  <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/>
						  <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>
						</svg></a>
						<input type="hidden" th:value="${ticket.ticketId}"/>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
        <input type="hidden" id="ticketServiceUri" th:value="${serviceUri}" />
    </main>

    <footer class="footer">
      <div class="container">
        <span class="text-muted">&copy; 2021</span>
      </div>
    </footer>



</body>
</html>
